{% extends "jobportal/index.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/info-pages.css' %}">

<div class="gradient-bg py-5">
  <div class="container glass-form p-4 rounded-4 shadow-lg">
    <h2 class="mb-4 text-center text-primary fw-bold">My Applications</h2>

    {% if applications %}
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead class="table-primary">
            <tr>
              <th>Job Title</th>
              <th>Resume</th>
              <th>Status</th>
              <th>Applied On</th>
            </tr>
          </thead>
          <tbody>
            {% for app in applications %}
            <tr>
              <td>{{ app.job.title }}</td>
              <td><a href="{{ app.resume.url }}" target="_blank">View</a></td>
              <td>{{ app.status }}</td>
              <td>{{ app.applied_on|date:"d M Y, H:i" }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <div class="alert alert-info text-center">You havenâ€™t applied to any jobs yet.</div>
    {% endif %}
  </div>
</div>
{% endblock %}
